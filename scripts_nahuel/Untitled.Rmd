---
jupyter:
  jupytext:
    formats: ipynb,Rmd
    text_representation:
      extension: .Rmd
      format_name: rmarkdown
      format_version: '1.2'
      jupytext_version: 1.14.5
  kernelspec:
    display_name: Python 3 (ipykernel)
    language: python
    name: python3
---

```{python}
import pickle
import glob
import os
import healpy as hp
import numpy as np
from matplotlib import pyplot as plt
import qubic
from qubic import AnalysisMC as amc
from qubic import QubicSkySim as qss
from pysimulators.interfaces.healpy import HealpixConvolutionGaussianOperator
# %matplotlib notebook
```

```{python}
thedir = '/home/nahue/CMM-Pipeline/src/'
dic_name = '**.pkl'
spectra = np.sort(glob.glob(thedir + dic_name))

for i in range(len(spectra)):
    print(i, spectra[i])

real = spectra[0]
map_dict = pickle.load(open(real,'rb'))

print(map_dict.keys())
```

```{python}
ell = map_dict['ell']

plt.figure()
for i in range(map_dict['Dl'].shape[0]):
    plt.semilogy(ell,map_dict['Dl'][i,0,:],'.')
    plt.semilogy(ell,map_dict['Dl'][i,1,:],'.')
#     plt.loglog(map_dict['ell'],np.abs(map_dict['Dl_2x2'][i,:]))
# plt.loglog(map_dict['ell'],map_dict['Dl'][i,0,:])
# plt.figure()
# plt.loglog(map_dict['ell'],map_dict['Dl'][6,0,:])
print(map_dict['Dl_1x1'].shape)

mean_0 = np.mean(map_dict['Dl'][:,0,:],axis=0)
mean_1 = np.mean(map_dict['Dl'][:,1,:],axis=0)
print(mean.shape)
plt.semilogy(ell,mean_0)
plt.semilogy(ell,mean_1)
```

```{python}

```

```{python}

```
